{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet DonateComponent = class DonateComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.title = 'Donate - Legacy Donation';\n    this.donationAmounts = [25, 50, 100, 250, 500];\n    this.selectedAmount = 50;\n    this.customAmount = null;\n    this.donationType = 'one-time';\n    this.donorInfo = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: ''\n    };\n    // API interaction states\n    this.isSubmitting = false;\n    this.showSuccessMessage = false;\n    this.showErrorMessage = false;\n    this.errorMessage = '';\n  }\n  onAmountChange(amount) {\n    this.selectedAmount = amount;\n    this.customAmount = null;\n  }\n  onCustomAmountChange() {\n    if (this.customAmount && this.customAmount > 0) {\n      this.selectedAmount = 0; // Use custom amount\n    }\n  }\n  getDonationAmount() {\n    return this.customAmount || this.selectedAmount;\n  }\n  onSubmit() {\n    if (!this.isFormValid()) {\n      this.showError('Please fill in all required fields.');\n      return;\n    }\n    this.isSubmitting = true;\n    this.showSuccessMessage = false;\n    this.showErrorMessage = false;\n    const donation = {\n      amount: this.getDonationAmount(),\n      donor_name: `${this.donorInfo.firstName} ${this.donorInfo.lastName}`.trim(),\n      donor_email: this.donorInfo.email,\n      donor_phone: this.donorInfo.phone || '',\n      donation_type: this.donationType\n    };\n    this.apiService.createDonation(donation).subscribe({\n      next: response => {\n        this.isSubmitting = false;\n        if (response.success) {\n          this.showSuccessMessage = true;\n          this.resetForm();\n          // Scroll to top to show success message\n          window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n          });\n        } else {\n          this.showError(response.message || 'An error occurred while processing your donation.');\n        }\n      },\n      error: error => {\n        this.isSubmitting = false;\n        const errorMsg = this.apiService.getErrorMessage(error);\n        this.showError(errorMsg);\n      }\n    });\n  }\n  isFormValid() {\n    return !!(this.donorInfo.firstName && this.donorInfo.lastName && this.donorInfo.email && this.getDonationAmount() > 0);\n  }\n  showError(message) {\n    this.errorMessage = message;\n    this.showErrorMessage = true;\n    this.showSuccessMessage = false;\n  }\n  resetForm() {\n    this.selectedAmount = 50;\n    this.customAmount = null;\n    this.donationType = 'one-time';\n    this.donorInfo = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: ''\n    };\n  }\n};\nDonateComponent = __decorate([Component({\n  selector: 'app-donate',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"py-20\">\n      <div class=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"text-center\">\n          <h2 class=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n            Make a Donation\n          </h2>\n          <p class=\"mt-4 text-lg text-gray-500\">\n            Your contribution helps provide support to families during their most difficult times.\n          </p>\n        </div>\n        \n        <!-- Success Message -->\n        <div *ngIf=\"showSuccessMessage\" class=\"mt-8 bg-green-50 border border-green-200 rounded-md p-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <svg class=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n              </svg>\n            </div>\n            <div class=\"ml-3\">\n              <h3 class=\"text-sm font-medium text-green-800\">\n                Donation Successful!\n              </h3>\n              <p class=\"mt-2 text-sm text-green-700\">\n                Thank you for your {{donationType}} donation of ${{}}. We appreciate your support!\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Error Message -->\n        <div *ngIf=\"showErrorMessage\" class=\"mt-8 bg-red-50 border border-red-200 rounded-md p-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <svg class=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n              </svg>\n            </div>\n            <div class=\"ml-3\">\n              <h3 class=\"text-sm font-medium text-red-800\">\n                Donation Failed\n              </h3>\n              <p class=\"mt-2 text-sm text-red-700\">\n                {{errorMessage}}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Loading State -->\n        <div *ngIf=\"isSubmitting\" class=\"mt-8 bg-blue-50 border border-blue-200 rounded-md p-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <svg class=\"animate-spin h-5 w-5 text-blue-400\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            </div>\n            <div class=\"ml-3\">\n              <h3 class=\"text-sm font-medium text-blue-800\">\n                Processing Donation...\n              </h3>\n              <p class=\"mt-2 text-sm text-blue-700\">\n                Please wait while we process your donation.\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div *ngIf=\"!showSuccessMessage\" class=\"mt-12 bg-white shadow-lg rounded-lg p-8\">\n          <form (ngSubmit)=\"onSubmit()\" #donationForm=\"ngForm\">\n            <!-- Donation Amount -->\n            <div class=\"mb-8\">\n              <label class=\"text-base font-medium text-gray-900\">Donation Amount</label>\n              <fieldset class=\"mt-4\">\n                <legend class=\"sr-only\">Donation amount</legend>\n                <div class=\"grid grid-cols-3 gap-3 sm:grid-cols-6\">\n                  <label *ngFor=\"let amount of donationAmounts\"\n                         [class]=\"'relative flex items-center justify-center rounded-md border py-3 px-4 text-sm font-medium uppercase hover:bg-gray-50 focus:outline-none sm:flex-1 cursor-pointer ' +\n                                (selectedAmount === amount ? 'border-primary-600 ring-2 ring-primary-600' : 'border-gray-300')\">\n                    <input type=\"radio\" name=\"amount\" [value]=\"amount\"\n                           [(ngModel)]=\"selectedAmount\"\n                           class=\"sr-only\"\n                           (change)=\"onAmountChange(amount)\">\n                    <span>\\${{amount}}</span>\n                  </label>\n                </div>\n                <div class=\"mt-4\">\n                  <label class=\"block text-sm font-medium text-gray-700\">\n                    Custom Amount\n                  </label>\n                  <div class=\"mt-1 relative rounded-md shadow-sm\">\n                    <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                      <span class=\"text-gray-500 sm:text-sm\">$</span>\n                    </div>\n                    <input type=\"number\"\n                           name=\"customAmount\"\n                           class=\"focus:ring-primary-500 focus:border-primary-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md\"\n                           placeholder=\"0.00\"\n                           [(ngModel)]=\"customAmount\"\n                           (input)=\"onCustomAmountChange()\"\n                           min=\"1\">\n                  </div>\n                </div>\n              </fieldset>\n            </div>\n            \n            <!-- Donor Information -->\n            <div class=\"mb-8\">\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Donor Information</h3>\n              <div class=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700\">First Name *</label>\n                  <input type=\"text\"\n                         name=\"firstName\"\n                         required\n                         [(ngModel)]=\"donorInfo.firstName\"\n                         class=\"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\">\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700\">Last Name *</label>\n                  <input type=\"text\"\n                         name=\"lastName\"\n                         required\n                         [(ngModel)]=\"donorInfo.lastName\"\n                         class=\"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\">\n                </div>\n                <div class=\"sm:col-span-2\">\n                  <label class=\"block text-sm font-medium text-gray-700\">Email *</label>\n                  <input type=\"email\"\n                         name=\"email\"\n                         required\n                         [(ngModel)]=\"donorInfo.email\"\n                         class=\"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\">\n                </div>\n                <div class=\"sm:col-span-2\">\n                  <label class=\"block text-sm font-medium text-gray-700\">Phone</label>\n                  <input type=\"tel\"\n                         name=\"phone\"\n                         [(ngModel)]=\"donorInfo.phone\"\n                         class=\"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\">\n                </div>\n              </div>\n            </div>\n            \n            <!-- Donation Type -->\n            <div class=\"mb-8\">\n              <label class=\"text-base font-medium text-gray-900\">Donation Type</label>\n              <div class=\"mt-4 space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-10\">\n                <div class=\"flex items-center\">\n                  <input id=\"one-time\"\n                         name=\"donationType\"\n                         type=\"radio\"\n                         checked\n                         [(ngModel)]=\"donationType\"\n                         value=\"one-time\"\n                         class=\"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300\">\n                  <label for=\"one-time\" class=\"ml-3 block text-sm font-medium text-gray-700\">\n                    One-time Donation\n                  </label>\n                </div>\n                <div class=\"flex items-center\">\n                  <input id=\"monthly\"\n                         name=\"donationType\"\n                         type=\"radio\"\n                         [(ngModel)]=\"donationType\"\n                         value=\"monthly\"\n                         class=\"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300\">\n                  <label for=\"monthly\" class=\"ml-3 block text-sm font-medium text-gray-700\">\n                    Monthly Donation\n                  </label>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Submit Button -->\n            <div>\n              <button type=\"submit\"\n                      [disabled]=\"!donationForm.valid || isSubmitting\"\n                      class=\"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\">\n                {{ isSubmitting ? 'Processing...' : 'Donate Now - $' + getDonationAmount() }}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: []\n})], DonateComponent);\nexport { DonateComponent };","map":{"version":3,"names":["Component","CommonModule","FormsModule","DonateComponent","constructor","apiService","title","donationAmounts","selectedAmount","customAmount","donationType","donorInfo","firstName","lastName","email","phone","isSubmitting","showSuccessMessage","showErrorMessage","errorMessage","onAmountChange","amount","onCustomAmountChange","getDonationAmount","onSubmit","isFormValid","showError","donation","donor_name","trim","donor_email","donor_phone","donation_type","createDonation","subscribe","next","response","success","resetForm","window","scrollTo","top","behavior","message","error","errorMsg","getErrorMessage","__decorate","selector","standalone","imports","template","styles"],"sources":["C:\\Users\\THIS PC\\OneDrive\\Desktop\\Funeral donations\\src\\app\\components\\donate\\donate.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ApiService, Donation } from '../../services/api.service';\n\n@Component({\n  selector: 'app-donate',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"py-20\">\n      <div class=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"text-center\">\n          <h2 class=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n            Make a Donation\n          </h2>\n          <p class=\"mt-4 text-lg text-gray-500\">\n            Your contribution helps provide support to families during their most difficult times.\n          </p>\n        </div>\n        \n        <!-- Success Message -->\n        <div *ngIf=\"showSuccessMessage\" class=\"mt-8 bg-green-50 border border-green-200 rounded-md p-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <svg class=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n              </svg>\n            </div>\n            <div class=\"ml-3\">\n              <h3 class=\"text-sm font-medium text-green-800\">\n                Donation Successful!\n              </h3>\n              <p class=\"mt-2 text-sm text-green-700\">\n                Thank you for your {{donationType}} donation of ${{getDonationAmount()}}. We appreciate your support!\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Error Message -->\n        <div *ngIf=\"showErrorMessage\" class=\"mt-8 bg-red-50 border border-red-200 rounded-md p-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <svg class=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n              </svg>\n            </div>\n            <div class=\"ml-3\">\n              <h3 class=\"text-sm font-medium text-red-800\">\n                Donation Failed\n              </h3>\n              <p class=\"mt-2 text-sm text-red-700\">\n                {{errorMessage}}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Loading State -->\n        <div *ngIf=\"isSubmitting\" class=\"mt-8 bg-blue-50 border border-blue-200 rounded-md p-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <svg class=\"animate-spin h-5 w-5 text-blue-400\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            </div>\n            <div class=\"ml-3\">\n              <h3 class=\"text-sm font-medium text-blue-800\">\n                Processing Donation...\n              </h3>\n              <p class=\"mt-2 text-sm text-blue-700\">\n                Please wait while we process your donation.\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div *ngIf=\"!showSuccessMessage\" class=\"mt-12 bg-white shadow-lg rounded-lg p-8\">\n          <form (ngSubmit)=\"onSubmit()\" #donationForm=\"ngForm\">\n            <!-- Donation Amount -->\n            <div class=\"mb-8\">\n              <label class=\"text-base font-medium text-gray-900\">Donation Amount</label>\n              <fieldset class=\"mt-4\">\n                <legend class=\"sr-only\">Donation amount</legend>\n                <div class=\"grid grid-cols-3 gap-3 sm:grid-cols-6\">\n                  <label *ngFor=\"let amount of donationAmounts\"\n                         [class]=\"'relative flex items-center justify-center rounded-md border py-3 px-4 text-sm font-medium uppercase hover:bg-gray-50 focus:outline-none sm:flex-1 cursor-pointer ' +\n                                (selectedAmount === amount ? 'border-primary-600 ring-2 ring-primary-600' : 'border-gray-300')\">\n                    <input type=\"radio\" name=\"amount\" [value]=\"amount\"\n                           [(ngModel)]=\"selectedAmount\"\n                           class=\"sr-only\"\n                           (change)=\"onAmountChange(amount)\">\n                    <span>\\${{amount}}</span>\n                  </label>\n                </div>\n                <div class=\"mt-4\">\n                  <label class=\"block text-sm font-medium text-gray-700\">\n                    Custom Amount\n                  </label>\n                  <div class=\"mt-1 relative rounded-md shadow-sm\">\n                    <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                      <span class=\"text-gray-500 sm:text-sm\">$</span>\n                    </div>\n                    <input type=\"number\"\n                           name=\"customAmount\"\n                           class=\"focus:ring-primary-500 focus:border-primary-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md\"\n                           placeholder=\"0.00\"\n                           [(ngModel)]=\"customAmount\"\n                           (input)=\"onCustomAmountChange()\"\n                           min=\"1\">\n                  </div>\n                </div>\n              </fieldset>\n            </div>\n            \n            <!-- Donor Information -->\n            <div class=\"mb-8\">\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Donor Information</h3>\n              <div class=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700\">First Name *</label>\n                  <input type=\"text\"\n                         name=\"firstName\"\n                         required\n                         [(ngModel)]=\"donorInfo.firstName\"\n                         class=\"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\">\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700\">Last Name *</label>\n                  <input type=\"text\"\n                         name=\"lastName\"\n                         required\n                         [(ngModel)]=\"donorInfo.lastName\"\n                         class=\"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\">\n                </div>\n                <div class=\"sm:col-span-2\">\n                  <label class=\"block text-sm font-medium text-gray-700\">Email *</label>\n                  <input type=\"email\"\n                         name=\"email\"\n                         required\n                         [(ngModel)]=\"donorInfo.email\"\n                         class=\"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\">\n                </div>\n                <div class=\"sm:col-span-2\">\n                  <label class=\"block text-sm font-medium text-gray-700\">Phone</label>\n                  <input type=\"tel\"\n                         name=\"phone\"\n                         [(ngModel)]=\"donorInfo.phone\"\n                         class=\"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\">\n                </div>\n              </div>\n            </div>\n            \n            <!-- Donation Type -->\n            <div class=\"mb-8\">\n              <label class=\"text-base font-medium text-gray-900\">Donation Type</label>\n              <div class=\"mt-4 space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-10\">\n                <div class=\"flex items-center\">\n                  <input id=\"one-time\"\n                         name=\"donationType\"\n                         type=\"radio\"\n                         checked\n                         [(ngModel)]=\"donationType\"\n                         value=\"one-time\"\n                         class=\"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300\">\n                  <label for=\"one-time\" class=\"ml-3 block text-sm font-medium text-gray-700\">\n                    One-time Donation\n                  </label>\n                </div>\n                <div class=\"flex items-center\">\n                  <input id=\"monthly\"\n                         name=\"donationType\"\n                         type=\"radio\"\n                         [(ngModel)]=\"donationType\"\n                         value=\"monthly\"\n                         class=\"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300\">\n                  <label for=\"monthly\" class=\"ml-3 block text-sm font-medium text-gray-700\">\n                    Monthly Donation\n                  </label>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Submit Button -->\n            <div>\n              <button type=\"submit\"\n                      [disabled]=\"!donationForm.valid || isSubmitting\"\n                      class=\"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\">\n                {{ isSubmitting ? 'Processing...' : 'Donate Now - $' + getDonationAmount() }}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class DonateComponent {\n  title = 'Donate - Legacy Donation';\n  \n  donationAmounts = [25, 50, 100, 250, 500];\n  selectedAmount = 50;\n  customAmount: number | null = null;\n  donationType = 'one-time';\n  donorInfo = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: ''\n  };\n  \n  // API interaction states\n  isSubmitting = false;\n  showSuccessMessage = false;\n  showErrorMessage = false;\n  errorMessage = '';\n\n  constructor(private apiService: ApiService) {}\n\n  onAmountChange(amount: number) {\n    this.selectedAmount = amount;\n    this.customAmount = null;\n  }\n  \n  onCustomAmountChange() {\n    if (this.customAmount && this.customAmount > 0) {\n      this.selectedAmount = 0; // Use custom amount\n    }\n  }\n  \n  getDonationAmount(): number {\n    return this.customAmount || this.selectedAmount;\n  }\n  \n  onSubmit() {\n    if (!this.isFormValid()) {\n      this.showError('Please fill in all required fields.');\n      return;\n    }\n\n    this.isSubmitting = true;\n    this.showSuccessMessage = false;\n    this.showErrorMessage = false;\n\n    const donation: Omit<Donation, 'id' | 'status' | 'created_at'> = {\n      amount: this.getDonationAmount(),\n      donor_name: `${this.donorInfo.firstName} ${this.donorInfo.lastName}`.trim(),\n      donor_email: this.donorInfo.email,\n      donor_phone: this.donorInfo.phone || '',\n      donation_type: this.donationType as 'one-time' | 'monthly'\n    };\n\n    this.apiService.createDonation(donation).subscribe({\n      next: (response) => {\n        this.isSubmitting = false;\n        if (response.success) {\n          this.showSuccessMessage = true;\n          this.resetForm();\n          // Scroll to top to show success message\n          window.scrollTo({ top: 0, behavior: 'smooth' });\n        } else {\n          this.showError(response.message || 'An error occurred while processing your donation.');\n        }\n      },\n      error: (error) => {\n        this.isSubmitting = false;\n        const errorMsg = this.apiService.getErrorMessage(error);\n        this.showError(errorMsg);\n      }\n    });\n  }\n\n  private isFormValid(): boolean {\n    return !!(\n      this.donorInfo.firstName &&\n      this.donorInfo.lastName &&\n      this.donorInfo.email &&\n      this.getDonationAmount() > 0\n    );\n  }\n\n  private showError(message: string) {\n    this.errorMessage = message;\n    this.showErrorMessage = true;\n    this.showSuccessMessage = false;\n  }\n\n  private resetForm() {\n    this.selectedAmount = 50;\n    this.customAmount = null;\n    this.donationType = 'one-time';\n    this.donorInfo = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: ''\n    };\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}