{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/api.service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = (a0, a1, a2) => ({\n  \"bg-green-100 text-green-800\": a0,\n  \"bg-yellow-100 text-yellow-800\": a1,\n  \"bg-red-100 text-red-800\": a2\n});\nconst _c1 = a0 => [\"/donate\", a0];\nfunction AnnouncementDetailComponent_div_0_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\", 31);\n    i0.ɵɵtext(2, \"Date of Birth\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 36);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 1, ctx_r0.announcement.deceased_birth_date, \"longDate\"));\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\", 31);\n    i0.ɵɵtext(2, \"Date of Death\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 36);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 1, ctx_r0.announcement.deceased_death_date, \"longDate\"));\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\", 31);\n    i0.ɵɵtext(2, \"Funeral Date & Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 36);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 1, ctx_r0.announcement.funeral_date, \"medium\"));\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\", 31);\n    i0.ɵɵtext(2, \"Ceremony Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 36);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"titlecase\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, ctx_r0.announcement.ceremony_type));\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"label\", 31);\n    i0.ɵɵtext(2, \"Funeral Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 36);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.announcement.funeral_location);\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 42);\n    i0.ɵɵelement(2, \"path\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"p\", 44);\n    i0.ɵɵtext(4, \"No photos uploaded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"div\", 46)(2, \"img\", 47);\n    i0.ɵɵlistener(\"click\", function AnnouncementDetailComponent_div_0_div_40_Template_img_click_2_listener() {\n      const file_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.openImageModal(file_r3));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 48);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.getFileUrl(file_r3), i0.ɵɵsanitizeUrl)(\"alt\", file_r3.original_name);\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_41_div_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"img\", 54);\n    i0.ɵɵlistener(\"click\", function AnnouncementDetailComponent_div_0_div_41_div_4_div_2_Template_img_click_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const file_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.openImageModal(file_r5));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r0.getFileUrl(file_r5), i0.ɵɵsanitizeUrl)(\"alt\", file_r5.original_name);\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_41_div_4_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 56);\n    i0.ɵɵelement(2, \"path\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"div\", 58)(4, \"p\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 60);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"a\", 61);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(9, \"svg\", 62);\n    i0.ɵɵelement(10, \"path\", 63);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const file_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(file_r5.original_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", (file_r5.file_size / 1024 / 1024).toFixed(2), \" MB\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"href\", ctx_r0.getFileUrl(file_r5), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_41_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"div\", 51);\n    i0.ɵɵtemplate(2, AnnouncementDetailComponent_div_0_div_41_div_4_div_2_Template, 2, 2, \"div\", 52)(3, AnnouncementDetailComponent_div_0_div_41_div_4_div_3_Template, 11, 3, \"div\", 53);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", file_r5.file_type === \"image\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", file_r5.file_type === \"document\");\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"h2\", 17);\n    i0.ɵɵtext(2, \"Additional Photos & Documents\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 50);\n    i0.ɵɵtemplate(4, AnnouncementDetailComponent_div_0_div_41_div_4_Template, 4, 2, \"div\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getFilesByPurpose(\"other\"));\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\", 31);\n    i0.ɵɵtext(2, \"Goal Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 32);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(5, 1, ctx_r0.announcement.goal_amount, \"1.2-2\"), \"\");\n  }\n}\nfunction AnnouncementDetailComponent_div_0_p_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Bank Account: ****\", ctx_r0.announcement.beneficiary_bank_account == null ? null : ctx_r0.announcement.beneficiary_bank_account.slice(-4), \" \");\n  }\n}\nfunction AnnouncementDetailComponent_div_0_p_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Mobile Money: \", ctx_r0.announcement.beneficiary_mobile_money, \" \");\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"a\", 64);\n    i0.ɵɵtext(2, \" Donate Now \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c1, ctx_r0.announcement.id));\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 65)(2, \"p\", 66);\n    i0.ɵɵtext(3, \" This announcement is no longer accepting donations. \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AnnouncementDetailComponent_div_0_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67);\n    i0.ɵɵlistener(\"click\", function AnnouncementDetailComponent_div_0_div_80_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.closeImageModal());\n    });\n    i0.ɵɵelementStart(1, \"div\", 68)(2, \"div\", 69);\n    i0.ɵɵelement(3, \"div\", 70);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 71);\n    i0.ɵɵtext(5, \"\\u200B\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 72)(7, \"div\", 73)(8, \"div\", 74)(9, \"div\", 75);\n    i0.ɵɵelement(10, \"img\", 76);\n    i0.ɵɵelementStart(11, \"div\", 77)(12, \"h3\", 78);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 79);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(16, \"div\", 80)(17, \"a\", 81);\n    i0.ɵɵtext(18, \" Download \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 82);\n    i0.ɵɵlistener(\"click\", function AnnouncementDetailComponent_div_0_div_80_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.closeImageModal());\n    });\n    i0.ɵɵtext(20, \" Close \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"src\", ctx_r0.getFileUrl(ctx_r0.selectedImage), i0.ɵɵsanitizeUrl)(\"alt\", ctx_r0.selectedImage.original_name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedImage.original_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r0.selectedImage.file_size / 1024 / 1024).toFixed(2), \" MB \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"href\", ctx_r0.getFileUrl(ctx_r0.selectedImage), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AnnouncementDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"a\", 5);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(4, \"svg\", 6);\n    i0.ɵɵelement(5, \"path\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" Back to Announcements \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"div\", 9)(9, \"h1\", 10);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 11);\n    i0.ɵɵtext(12, \"Funeral Announcement\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 12)(14, \"span\", 13);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"titlecase\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 14)(18, \"div\", 15)(19, \"div\", 16)(20, \"h2\", 17);\n    i0.ɵɵtext(21, \"Deceased Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 18);\n    i0.ɵɵtemplate(23, AnnouncementDetailComponent_div_0_div_23_Template, 6, 4, \"div\", 19)(24, AnnouncementDetailComponent_div_0_div_24_Template, 6, 4, \"div\", 19)(25, AnnouncementDetailComponent_div_0_div_25_Template, 6, 4, \"div\", 19)(26, AnnouncementDetailComponent_div_0_div_26_Template, 6, 3, \"div\", 19)(27, AnnouncementDetailComponent_div_0_div_27_Template, 5, 1, \"div\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 21)(29, \"label\", 22);\n    i0.ɵɵtext(30, \"Family Message\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 23)(32, \"p\", 24);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(34, \"div\", 25)(35, \"div\", 16)(36, \"h2\", 17);\n    i0.ɵɵtext(37, \"Photos & Flyers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(38, AnnouncementDetailComponent_div_0_div_38_Template, 5, 0, \"div\", 26);\n    i0.ɵɵelementStart(39, \"div\", 27);\n    i0.ɵɵtemplate(40, AnnouncementDetailComponent_div_0_div_40_Template, 4, 2, \"div\", 28);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(41, AnnouncementDetailComponent_div_0_div_41_Template, 5, 1, \"div\", 29);\n    i0.ɵɵelementStart(42, \"div\", 16)(43, \"h2\", 17);\n    i0.ɵɵtext(44, \"Donation Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\", 30)(46, \"div\")(47, \"label\", 31);\n    i0.ɵɵtext(48, \"Beneficiary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"p\", 32);\n    i0.ɵɵtext(50);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(51, AnnouncementDetailComponent_div_0_div_51_Template, 6, 4, \"div\", 19);\n    i0.ɵɵelementStart(52, \"div\")(53, \"label\", 31);\n    i0.ɵɵtext(54, \"Raised Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"p\", 32);\n    i0.ɵɵtext(56);\n    i0.ɵɵpipe(57, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"div\", 33);\n    i0.ɵɵelement(59, \"div\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"p\", 35);\n    i0.ɵɵtext(61);\n    i0.ɵɵpipe(62, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(63, \"div\")(64, \"label\", 31);\n    i0.ɵɵtext(65, \"Payment Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(66, \"div\", 36);\n    i0.ɵɵtemplate(67, AnnouncementDetailComponent_div_0_p_67_Template, 2, 1, \"p\", 19)(68, AnnouncementDetailComponent_div_0_p_68_Template, 2, 1, \"p\", 19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(69, \"div\", 37)(70, \"div\", 18)(71, \"div\")(72, \"label\", 31);\n    i0.ɵɵtext(73, \"Announcement Period\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(74, \"p\", 36);\n    i0.ɵɵtext(75);\n    i0.ɵɵpipe(76, \"date\");\n    i0.ɵɵpipe(77, \"date\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(78, AnnouncementDetailComponent_div_0_div_78_Template, 3, 3, \"div\", 38)(79, AnnouncementDetailComponent_div_0_div_79_Template, 4, 0, \"div\", 38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(80, AnnouncementDetailComponent_div_0_div_80_Template, 21, 5, \"div\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r0.announcement.deceased_name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(39, _c0, ctx_r0.announcement.status === \"active\", ctx_r0.announcement.status === \"grace_period\", ctx_r0.announcement.status === \"closed\" || ctx_r0.announcement.status === \"expired\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(16, 25, ctx_r0.announcement.status), \" \");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.deceased_birth_date);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.deceased_death_date);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.funeral_date);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.ceremony_type);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.funeral_location);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.announcement.family_message);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.getFilesByPurpose(\"deceased_photo\").length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getFilesByPurpose(\"deceased_photo\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.getFilesByPurpose(\"other\").length > 0);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.announcement.beneficiary_name);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.goal_amount);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(57, 27, ctx_r0.announcement.total_raised || 0, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"width\", ctx_r0.getProgressPercentage(), \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(62, 30, ctx_r0.getProgressPercentage(), \"1.0-0\"), \"% of goal reached \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.beneficiary_account_type === \"bank\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.beneficiary_account_type === \"mobile_money\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(76, 33, ctx_r0.announcement.announcement_start_date, \"longDate\"), \" - \", i0.ɵɵpipeBind2(77, 36, ctx_r0.announcement.announcement_end_date, \"longDate\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.status === \"active\" || ctx_r0.announcement.status === \"grace_period\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.announcement.status === \"closed\" || ctx_r0.announcement.status === \"expired\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedImage);\n  }\n}\nfunction AnnouncementDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 83)(1, \"div\", 84);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 85);\n    i0.ɵɵelement(3, \"circle\", 86)(4, \"path\", 87);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(5, \"p\", 88);\n    i0.ɵɵtext(6, \"Loading announcement...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AnnouncementDetailComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 83)(1, \"div\", 84);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 89);\n    i0.ɵɵelement(3, \"path\", 90);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"h3\", 91);\n    i0.ɵɵtext(5, \"Error loading announcement\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 79);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 21)(9, \"a\", 92);\n    i0.ɵɵtext(10, \"Back to announcements\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nexport let AnnouncementDetailComponent = /*#__PURE__*/(() => {\n  class AnnouncementDetailComponent {\n    constructor(route, apiService) {\n      this.route = route;\n      this.apiService = apiService;\n      this.announcement = null;\n      this.isLoading = true;\n      this.error = '';\n      this.selectedImage = null;\n    }\n    ngOnInit() {\n      const id = this.route.snapshot.paramMap.get('id');\n      if (id) {\n        this.loadAnnouncement(parseInt(id));\n      }\n    }\n    loadAnnouncement(id) {\n      this.isLoading = true;\n      this.error = '';\n      this.apiService.getAnnouncement(id).subscribe({\n        next: response => {\n          this.isLoading = false;\n          if (response.success) {\n            this.announcement = response.data;\n          } else {\n            this.error = response.error || 'Failed to load announcement';\n          }\n        },\n        error: error => {\n          this.isLoading = false;\n          this.error = this.apiService.getErrorMessage(error);\n        }\n      });\n    }\n    getFilesByPurpose(purpose) {\n      return this.announcement?.files?.filter(file => file.upload_purpose === purpose) || [];\n    }\n    getFileUrl(file) {\n      // Return the full URL to the uploaded file using the files.php endpoint\n      return `https://kilnenterprise.com/Donations/api/files.php?file_id=${file.id}`;\n    }\n    getProgressPercentage() {\n      if (!this.announcement?.goal_amount || this.announcement.goal_amount === 0) {\n        return 0;\n      }\n      const raised = this.announcement.total_raised || 0;\n      return Math.min(raised / this.announcement.goal_amount * 100, 100);\n    }\n    openImageModal(file) {\n      this.selectedImage = file;\n    }\n    closeImageModal() {\n      this.selectedImage = null;\n    }\n    static {\n      this.ɵfac = function AnnouncementDetailComponent_Factory(t) {\n        return new (t || AnnouncementDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AnnouncementDetailComponent,\n        selectors: [[\"app-announcement-detail\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 3,\n        vars: 3,\n        consts: [[\"class\", \"min-h-screen bg-gray-50 py-12\", 4, \"ngIf\"], [\"class\", \"min-h-screen bg-gray-50 flex items-center justify-center\", 4, \"ngIf\"], [1, \"min-h-screen\", \"bg-gray-50\", \"py-12\"], [1, \"max-w-4xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"mb-6\"], [\"routerLink\", \"/announcements\", 1, \"inline-flex\", \"items-center\", \"text-blue-600\", \"hover:text-blue-800\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M10 19l-7-7m0 0l7-7m-7 7h18\"], [1, \"bg-white\", \"shadow\", \"rounded-lg\", \"overflow-hidden\", \"mb-8\"], [1, \"bg-gradient-to-r\", \"from-blue-600\", \"to-blue-800\", \"px-6\", \"py-8\"], [1, \"text-3xl\", \"font-bold\", \"text-white\"], [1, \"mt-2\", \"text-blue-100\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-gray-200\"], [1, \"inline-flex\", \"items-center\", \"px-3\", \"py-1\", \"rounded-full\", \"text-sm\", \"font-medium\", 3, \"ngClass\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-3\", \"gap-8\", \"mb-8\"], [1, \"lg:col-span-2\"], [1, \"bg-white\", \"shadow\", \"rounded-lg\", \"p-6\"], [1, \"text-xl\", \"font-semibold\", \"text-gray-900\", \"mb-4\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [4, \"ngIf\"], [\"class\", \"md:col-span-2\", 4, \"ngIf\"], [1, \"mt-6\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-500\", \"mb-2\"], [1, \"bg-gray-50\", \"rounded-lg\", \"p-4\"], [1, \"text-gray-900\", \"whitespace-pre-wrap\"], [1, \"lg:col-span-1\"], [\"class\", \"text-center py-8\", 4, \"ngIf\"], [1, \"space-y-4\"], [\"class\", \"group\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"bg-white shadow rounded-lg p-6 mb-8\", 4, \"ngIf\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-500\"], [1, \"mt-1\", \"text-lg\", \"text-gray-900\"], [1, \"mt-2\", \"w-full\", \"bg-gray-200\", \"rounded-full\", \"h-2\"], [1, \"bg-blue-600\", \"h-2\", \"rounded-full\"], [1, \"mt-1\", \"text-xs\", \"text-gray-500\"], [1, \"mt-1\", \"text-sm\", \"text-gray-900\"], [1, \"mt-6\", \"pt-6\", \"border-t\", \"border-gray-200\"], [\"class\", \"mt-6\", 4, \"ngIf\"], [\"class\", \"fixed inset-0 z-50 overflow-y-auto\", 3, \"click\", 4, \"ngIf\"], [1, \"md:col-span-2\"], [1, \"text-center\", \"py-8\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"mx-auto\", \"h-12\", \"w-12\", \"text-gray-400\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"], [1, \"mt-2\", \"text-sm\", \"text-gray-500\"], [1, \"group\"], [1, \"relative\"], [1, \"w-full\", \"h-48\", \"object-cover\", \"rounded-lg\", \"shadow-md\", \"group-hover:shadow-lg\", \"transition-shadow\", \"cursor-pointer\", 3, \"click\", \"src\", \"alt\"], [1, \"absolute\", \"inset-0\", \"bg-black\", \"bg-opacity-0\", \"group-hover:bg-opacity-20\", \"transition-all\", \"rounded-lg\"], [1, \"bg-white\", \"shadow\", \"rounded-lg\", \"p-6\", \"mb-8\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-6\"], [1, \"border\", \"border-gray-200\", \"rounded-lg\", \"overflow-hidden\", \"hover:shadow-md\", \"transition-shadow\"], [\"class\", \"relative\", 4, \"ngIf\"], [\"class\", \"p-4 flex items-center\", 4, \"ngIf\"], [1, \"w-full\", \"h-40\", \"object-cover\", \"cursor-pointer\", 3, \"click\", \"src\", \"alt\"], [1, \"p-4\", \"flex\", \"items-center\"], [\"fill\", \"currentColor\", \"viewBox\", \"0 0 20 20\", 1, \"h-8\", \"w-8\", \"text-red-500\", \"mr-3\"], [\"fill-rule\", \"evenodd\", \"d\", \"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z\", \"clip-rule\", \"evenodd\"], [1, \"flex-1\", \"min-w-0\"], [1, \"text-sm\", \"font-medium\", \"text-gray-900\", \"truncate\"], [1, \"text-xs\", \"text-gray-500\"], [\"download\", \"\", \"title\", \"Download file\", 1, \"ml-3\", \"text-blue-600\", \"hover:text-blue-800\", 3, \"href\"], [\"fill\", \"currentColor\", \"viewBox\", \"0 0 20 20\", 1, \"h-5\", \"w-5\"], [\"fill-rule\", \"evenodd\", \"d\", \"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\", \"clip-rule\", \"evenodd\"], [1, \"inline-flex\", \"items-center\", \"px-6\", \"py-3\", \"border\", \"border-transparent\", \"text-base\", \"font-medium\", \"rounded-md\", \"text-white\", \"bg-blue-600\", \"hover:bg-blue-700\", 3, \"routerLink\"], [1, \"bg-gray-100\", \"border\", \"border-gray-200\", \"rounded-md\", \"p-4\"], [1, \"text-gray-600\", \"text-sm\"], [1, \"fixed\", \"inset-0\", \"z-50\", \"overflow-y-auto\", 3, \"click\"], [1, \"flex\", \"items-center\", \"justify-center\", \"min-h-screen\", \"pt-4\", \"px-4\", \"pb-20\", \"text-center\", \"sm:block\", \"sm:p-0\"], [1, \"fixed\", \"inset-0\", \"transition-opacity\"], [1, \"absolute\", \"inset-0\", \"bg-gray-500\", \"opacity-75\"], [1, \"hidden\", \"sm:inline-block\", \"sm:align-middle\", \"sm:h-screen\"], [1, \"inline-block\", \"align-bottom\", \"bg-white\", \"rounded-lg\", \"text-left\", \"overflow-hidden\", \"shadow-xl\", \"transform\", \"transition-all\", \"sm:my-8\", \"sm:align-middle\", \"sm:max-w-4xl\", \"sm:w-full\"], [1, \"bg-white\", \"px-4\", \"pt-5\", \"pb-4\", \"sm:p-6\", \"sm:pb-4\"], [1, \"sm:flex\", \"sm:items-start\"], [1, \"mt-3\", \"text-center\", \"sm:mt-0\", \"sm:text-left\", \"w-full\"], [1, \"w-full\", \"h-auto\", \"max-h-96\", \"object-contain\", 3, \"src\", \"alt\"], [1, \"mt-4\"], [1, \"text-lg\", \"font-medium\", \"text-gray-900\"], [1, \"mt-1\", \"text-sm\", \"text-gray-500\"], [1, \"bg-gray-50\", \"px-4\", \"py-3\", \"sm:px-6\", \"sm:flex\", \"sm:flex-row-reverse\"], [\"download\", \"\", 1, \"w-full\", \"inline-flex\", \"justify-center\", \"rounded-md\", \"border\", \"border-transparent\", \"shadow-sm\", \"px-4\", \"py-2\", \"bg-blue-600\", \"text-base\", \"font-medium\", \"text-white\", \"hover:bg-blue-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-blue-500\", \"sm:ml-3\", \"sm:w-auto\", \"sm:text-sm\", 3, \"href\"], [\"type\", \"button\", 1, \"mt-3\", \"w-full\", \"inline-flex\", \"justify-center\", \"rounded-md\", \"border\", \"border-gray-300\", \"shadow-sm\", \"px-4\", \"py-2\", \"bg-white\", \"text-base\", \"font-medium\", \"text-gray-700\", \"hover:bg-gray-50\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-indigo-500\", \"sm:mt-0\", \"sm:ml-3\", \"sm:w-auto\", \"sm:text-sm\", 3, \"click\"], [1, \"min-h-screen\", \"bg-gray-50\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-center\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", 1, \"animate-spin\", \"h-12\", \"w-12\", \"text-blue-600\", \"mx-auto\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"10\", \"stroke\", \"currentColor\", \"stroke-width\", \"4\", 1, \"opacity-25\"], [\"fill\", \"currentColor\", \"d\", \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\", 1, \"opacity-75\"], [1, \"mt-4\", \"text-gray-600\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"mx-auto\", \"h-12\", \"w-12\", \"text-red-400\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"], [1, \"mt-2\", \"text-sm\", \"font-medium\", \"text-gray-900\"], [\"routerLink\", \"/announcements\", 1, \"text-blue-600\", \"hover:text-blue-500\"]],\n        template: function AnnouncementDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, AnnouncementDetailComponent_div_0_Template, 81, 43, \"div\", 0)(1, AnnouncementDetailComponent_div_1_Template, 7, 0, \"div\", 1)(2, AnnouncementDetailComponent_div_2_Template, 11, 1, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.announcement);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.error && !ctx.isLoading);\n          }\n        },\n        dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.DecimalPipe, i3.TitleCasePipe, i3.DatePipe, RouterModule, i1.RouterLink],\n        encapsulation: 2\n      });\n    }\n  }\n  return AnnouncementDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}