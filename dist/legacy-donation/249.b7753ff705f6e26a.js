"use strict";(self.webpackChunklegacy_donation=self.webpackChunklegacy_donation||[]).push([[249],{3249:(b,l,a)=>{a.r(l),a.d(l,{DonateComponent:()=>_});var d=a(177),s=a(4341),e=a(4438),u=a(3366);function c(i,m){if(1&i&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12),e.qSk(),e.j41(3,"svg",13),e.nrm(4,"path",14),e.k0s()(),e.joV(),e.j41(5,"div",15)(6,"h3",16),e.EFF(7," Donation Successful! "),e.k0s(),e.j41(8,"p",17),e.EFF(9),e.k0s()()()()),2&i){const n=e.XpG();e.R7$(9),e.SpI(" Thank you for your ",n.donationType," donation. We appreciate your support! ")}}function p(i,m){if(1&i&&(e.j41(0,"div",18)(1,"div",11)(2,"div",12),e.qSk(),e.j41(3,"svg",19),e.nrm(4,"path",20),e.k0s()(),e.joV(),e.j41(5,"div",15)(6,"h3",21),e.EFF(7," Donation Failed "),e.k0s(),e.j41(8,"p",22),e.EFF(9),e.k0s()()()()),2&i){const n=e.XpG();e.R7$(9),e.SpI(" ",n.errorMessage," ")}}function g(i,m){1&i&&(e.j41(0,"div",23)(1,"div",11)(2,"div",12),e.qSk(),e.j41(3,"svg",24),e.nrm(4,"circle",25)(5,"path",26),e.k0s()(),e.joV(),e.j41(6,"div",15)(7,"h3",27),e.EFF(8," Processing Donation... "),e.k0s(),e.j41(9,"p",28),e.EFF(10," Please wait while we process your donation. "),e.k0s()()()())}function h(i,m){if(1&i){const n=e.RV6();e.j41(0,"label")(1,"input",56),e.mxI("ngModelChange",function(o){e.eBV(n);const r=e.XpG(2);return e.DH7(r.selectedAmount,o)||(r.selectedAmount=o),e.Njj(o)}),e.bIt("change",function(){const o=e.eBV(n).$implicit,r=e.XpG(2);return e.Njj(r.onAmountChange(o))}),e.k0s(),e.j41(2,"span"),e.EFF(3),e.k0s()()}if(2&i){const n=m.$implicit,t=e.XpG(2);e.HbH("relative flex items-center justify-center rounded-md border py-3 px-4 text-sm font-medium uppercase hover:bg-gray-50 focus:outline-none sm:flex-1 cursor-pointer "+(t.selectedAmount===n?"border-primary-600 ring-2 ring-primary-600":"border-gray-300")),e.R7$(),e.Y8G("value",n),e.R50("ngModel",t.selectedAmount),e.R7$(2),e.SpI("$",n,"")}}function f(i,m){if(1&i){const n=e.RV6();e.j41(0,"div",29)(1,"form",30,0),e.bIt("ngSubmit",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onSubmit())}),e.j41(3,"div",31)(4,"label",32),e.EFF(5,"Donation Amount"),e.k0s(),e.j41(6,"fieldset",33)(7,"legend",34),e.EFF(8,"Donation amount"),e.k0s(),e.j41(9,"div",35),e.DNE(10,h,4,5,"label",36),e.k0s(),e.j41(11,"div",33)(12,"label",37),e.EFF(13," Custom Amount "),e.k0s(),e.j41(14,"div",38)(15,"div",39)(16,"span",40),e.EFF(17,"$"),e.k0s()(),e.j41(18,"input",41),e.mxI("ngModelChange",function(o){e.eBV(n);const r=e.XpG();return e.DH7(r.customAmount,o)||(r.customAmount=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onCustomAmountChange())}),e.k0s()()()()(),e.j41(19,"div",31)(20,"h3",42),e.EFF(21,"Donor Information"),e.k0s(),e.j41(22,"div",43)(23,"div")(24,"label",37),e.EFF(25,"First Name *"),e.k0s(),e.j41(26,"input",44),e.mxI("ngModelChange",function(o){e.eBV(n);const r=e.XpG();return e.DH7(r.donorInfo.firstName,o)||(r.donorInfo.firstName=o),e.Njj(o)}),e.k0s()(),e.j41(27,"div")(28,"label",37),e.EFF(29,"Last Name *"),e.k0s(),e.j41(30,"input",45),e.mxI("ngModelChange",function(o){e.eBV(n);const r=e.XpG();return e.DH7(r.donorInfo.lastName,o)||(r.donorInfo.lastName=o),e.Njj(o)}),e.k0s()(),e.j41(31,"div",46)(32,"label",37),e.EFF(33,"Email *"),e.k0s(),e.j41(34,"input",47),e.mxI("ngModelChange",function(o){e.eBV(n);const r=e.XpG();return e.DH7(r.donorInfo.email,o)||(r.donorInfo.email=o),e.Njj(o)}),e.k0s()(),e.j41(35,"div",46)(36,"label",37),e.EFF(37,"Phone"),e.k0s(),e.j41(38,"input",48),e.mxI("ngModelChange",function(o){e.eBV(n);const r=e.XpG();return e.DH7(r.donorInfo.phone,o)||(r.donorInfo.phone=o),e.Njj(o)}),e.k0s()()()(),e.j41(39,"div",31)(40,"label",32),e.EFF(41,"Donation Type"),e.k0s(),e.j41(42,"div",49)(43,"div",50)(44,"input",51),e.mxI("ngModelChange",function(o){e.eBV(n);const r=e.XpG();return e.DH7(r.donationType,o)||(r.donationType=o),e.Njj(o)}),e.k0s(),e.j41(45,"label",52),e.EFF(46," One-time Donation "),e.k0s()(),e.j41(47,"div",50)(48,"input",53),e.mxI("ngModelChange",function(o){e.eBV(n);const r=e.XpG();return e.DH7(r.donationType,o)||(r.donationType=o),e.Njj(o)}),e.k0s(),e.j41(49,"label",54),e.EFF(50," Monthly Donation "),e.k0s()()()(),e.j41(51,"div")(52,"button",55),e.EFF(53),e.k0s()()()()}if(2&i){const n=e.sdS(2),t=e.XpG();e.R7$(10),e.Y8G("ngForOf",t.donationAmounts),e.R7$(8),e.R50("ngModel",t.customAmount),e.R7$(8),e.R50("ngModel",t.donorInfo.firstName),e.R7$(4),e.R50("ngModel",t.donorInfo.lastName),e.R7$(4),e.R50("ngModel",t.donorInfo.email),e.R7$(4),e.R50("ngModel",t.donorInfo.phone),e.R7$(6),e.R50("ngModel",t.donationType),e.R7$(4),e.R50("ngModel",t.donationType),e.R7$(4),e.Y8G("disabled",!n.valid||t.isSubmitting),e.R7$(),e.SpI(" ",t.isSubmitting?"Processing...":"Donate Now - $"+t.getDonationAmount()," ")}}let _=(()=>{class i{constructor(n){this.apiService=n,this.title="Donate - Legacy Donation",this.donationAmounts=[25,50,100,250,500],this.selectedAmount=50,this.customAmount=null,this.donationType="one-time",this.donorInfo={firstName:"",lastName:"",email:"",phone:""},this.isSubmitting=!1,this.showSuccessMessage=!1,this.showErrorMessage=!1,this.errorMessage=""}onAmountChange(n){this.selectedAmount=n,this.customAmount=null}onCustomAmountChange(){this.customAmount&&this.customAmount>0&&(this.selectedAmount=0)}getDonationAmount(){return this.customAmount||this.selectedAmount}onSubmit(){if(!this.isFormValid())return void this.showError("Please fill in all required fields.");this.isSubmitting=!0,this.showSuccessMessage=!1,this.showErrorMessage=!1;const n={amount:this.getDonationAmount(),donor_name:`${this.donorInfo.firstName} ${this.donorInfo.lastName}`.trim(),donor_email:this.donorInfo.email,donor_phone:this.donorInfo.phone||"",donation_type:this.donationType};this.apiService.createDonation(n).subscribe({next:t=>{this.isSubmitting=!1,t.success?(this.showSuccessMessage=!0,this.resetForm(),window.scrollTo({top:0,behavior:"smooth"})):this.showError(t.message||"An error occurred while processing your donation.")},error:t=>{this.isSubmitting=!1;const o=this.apiService.getErrorMessage(t);this.showError(o)}})}isFormValid(){return!!(this.donorInfo.firstName&&this.donorInfo.lastName&&this.donorInfo.email&&this.getDonationAmount()>0)}showError(n){this.errorMessage=n,this.showErrorMessage=!0,this.showSuccessMessage=!1}resetForm(){this.selectedAmount=50,this.customAmount=null,this.donationType="one-time",this.donorInfo={firstName:"",lastName:"",email:"",phone:""}}static{this.\u0275fac=function(t){return new(t||i)(e.rXU(u.G))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-donate"]],standalone:!0,features:[e.aNF],decls:11,vars:4,consts:[["donationForm","ngForm"],[1,"py-20"],[1,"max-w-3xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center"],[1,"text-3xl","font-extrabold","text-gray-900","sm:text-4xl"],[1,"mt-4","text-lg","text-gray-500"],["class","mt-8 bg-green-50 border border-green-200 rounded-md p-4",4,"ngIf"],["class","mt-8 bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["class","mt-8 bg-blue-50 border border-blue-200 rounded-md p-4",4,"ngIf"],["class","mt-12 bg-white shadow-lg rounded-lg p-8",4,"ngIf"],[1,"mt-8","bg-green-50","border","border-green-200","rounded-md","p-4"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-green-800"],[1,"mt-2","text-sm","text-green-700"],[1,"mt-8","bg-red-50","border","border-red-200","rounded-md","p-4"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-2","text-sm","text-red-700"],[1,"mt-8","bg-blue-50","border","border-blue-200","rounded-md","p-4"],["viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-blue-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-sm","font-medium","text-blue-800"],[1,"mt-2","text-sm","text-blue-700"],[1,"mt-12","bg-white","shadow-lg","rounded-lg","p-8"],[3,"ngSubmit"],[1,"mb-8"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-4"],[1,"sr-only"],[1,"grid","grid-cols-3","gap-3","sm:grid-cols-6"],[3,"class",4,"ngFor","ngForOf"],[1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","relative","rounded-md","shadow-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","sm:text-sm"],["type","number","name","customAmount","placeholder","0.00","min","1",1,"focus:ring-primary-500","focus:border-primary-500","block","w-full","pl-7","pr-12","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","input","ngModel"],[1,"text-lg","font-medium","text-gray-900","mb-4"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2"],["type","text","name","firstName","required","",1,"mt-1","focus:ring-primary-500","focus:border-primary-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel"],["type","text","name","lastName","required","",1,"mt-1","focus:ring-primary-500","focus:border-primary-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel"],[1,"sm:col-span-2"],["type","email","name","email","required","",1,"mt-1","focus:ring-primary-500","focus:border-primary-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel"],["type","tel","name","phone",1,"mt-1","focus:ring-primary-500","focus:border-primary-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel"],[1,"mt-4","space-y-4","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","one-time","name","donationType","type","radio","checked","","value","one-time",1,"focus:ring-primary-500","h-4","w-4","text-primary-600","border-gray-300",3,"ngModelChange","ngModel"],["for","one-time",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","monthly","name","donationType","type","radio","value","monthly",1,"focus:ring-primary-500","h-4","w-4","text-primary-600","border-gray-300",3,"ngModelChange","ngModel"],["for","monthly",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["type","submit",1,"w-full","flex","justify-center","py-3","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-primary-600","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50",3,"disabled"],["type","radio","name","amount",1,"sr-only",3,"ngModelChange","change","value","ngModel"]],template:function(t,o){1&t&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),e.EFF(4," Make a Donation "),e.k0s(),e.j41(5,"p",5),e.EFF(6," Your contribution helps provide support to families during their most difficult times. "),e.k0s()(),e.DNE(7,c,10,1,"div",6)(8,p,10,1,"div",7)(9,g,11,0,"div",8)(10,f,54,10,"div",9),e.k0s()()),2&t&&(e.R7$(7),e.Y8G("ngIf",o.showSuccessMessage),e.R7$(),e.Y8G("ngIf",o.showErrorMessage),e.R7$(),e.Y8G("ngIf",o.isSubmitting),e.R7$(),e.Y8G("ngIf",!o.showSuccessMessage))},dependencies:[d.MD,d.Sq,d.bT,s.YN,s.qT,s.me,s.Q0,s.Fm,s.BC,s.cb,s.YS,s.VZ,s.vS,s.cV],encapsulation:2})}}return i})()}}]);