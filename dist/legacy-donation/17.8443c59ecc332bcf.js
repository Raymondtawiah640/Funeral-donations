"use strict";(self.webpackChunklegacy_donation=self.webpackChunklegacy_donation||[]).push([[17],{3017:(z,p,u)=>{u.r(p),u.d(p,{CreateAnnouncementComponent:()=>U});var g=u(467),_=u(177),s=u(4341),e=u(4438),v=u(3366),h=u(6544);function F(t,i){1&t&&(e.j41(0,"div",63),e.EFF(1," Name is required "),e.k0s())}function k(t,i){1&t&&(e.j41(0,"div",63),e.EFF(1," Family message is required "),e.k0s())}function x(t,i){1&t&&(e.j41(0,"div",63),e.EFF(1," Beneficiary name is required "),e.k0s())}function C(t,i){1&t&&(e.j41(0,"div")(1,"label",64),e.EFF(2," Bank Account Number * "),e.k0s(),e.nrm(3,"input",65),e.k0s())}function j(t,i){1&t&&(e.j41(0,"div")(1,"label",66),e.EFF(2," Mobile Money Number * "),e.k0s(),e.nrm(3,"input",67),e.k0s())}function E(t,i){1&t&&(e.j41(0,"div",63),e.EFF(1," Start date is required "),e.k0s())}function w(t,i){1&t&&(e.j41(0,"div",63),e.EFF(1," End date is required and must be after start date "),e.k0s())}function A(t,i){if(1&t&&e.nrm(0,"img",75),2&t){const n=e.XpG().$implicit;e.Y8G("src",n.preview,e.B4B)}}function D(t,i){1&t&&(e.j41(0,"div",76),e.qSk(),e.j41(1,"svg",77),e.nrm(2,"circle",78)(3,"path",79),e.k0s(),e.joV(),e.j41(4,"span",80),e.EFF(5,"Uploading..."),e.k0s()())}function I(t,i){1&t&&(e.j41(0,"div",76),e.qSk(),e.j41(1,"svg",81),e.nrm(2,"path",82),e.k0s(),e.joV(),e.j41(3,"span",83),e.EFF(4,"Uploaded successfully"),e.k0s()())}function T(t,i){if(1&t&&(e.j41(0,"div",76),e.qSk(),e.j41(1,"svg",84),e.nrm(2,"path",85),e.k0s(),e.joV(),e.j41(3,"span",86),e.EFF(4),e.k0s()()),2&t){const n=e.XpG().$implicit;e.R7$(4),e.JRh(n.error)}}function G(t,i){if(1&t){const n=e.RV6();e.j41(0,"button",87),e.bIt("click",function(){e.eBV(n);const o=e.XpG().index,r=e.XpG();return e.Njj(r.removeFile(o))}),e.qSk(),e.j41(1,"svg",88),e.nrm(2,"path",89),e.k0s()()}}function R(t,i){if(1&t&&(e.j41(0,"div",49)(1,"div",68),e.DNE(2,A,1,1,"img",69),e.j41(3,"div",70)(4,"p",71),e.EFF(5),e.k0s(),e.j41(6,"p",72),e.EFF(7),e.k0s(),e.DNE(8,D,6,0,"div",73)(9,I,5,0,"div",73)(10,T,5,1,"div",73),e.k0s(),e.DNE(11,G,3,0,"button",74),e.k0s()()),2&t){const n=i.$implicit;e.R7$(2),e.Y8G("ngIf",n.preview),e.R7$(3),e.JRh(n.file.name),e.R7$(2),e.SpI("",(n.file.size/1024/1024).toFixed(2)," MB"),e.R7$(),e.Y8G("ngIf",n.uploading),e.R7$(),e.Y8G("ngIf",n.uploaded),e.R7$(),e.Y8G("ngIf",n.error),e.R7$(),e.Y8G("ngIf",!n.uploading&&!n.uploaded)}}function M(t,i){if(1&t&&e.nrm(0,"img",75),2&t){const n=e.XpG().$implicit;e.Y8G("src",n.preview,e.B4B)}}function $(t,i){1&t&&(e.j41(0,"div",91),e.qSk(),e.j41(1,"svg",92),e.nrm(2,"path",93),e.k0s()())}function N(t,i){1&t&&(e.j41(0,"div",76),e.qSk(),e.j41(1,"svg",77),e.nrm(2,"circle",78)(3,"path",79),e.k0s(),e.joV(),e.j41(4,"span",80),e.EFF(5,"Uploading..."),e.k0s()())}function S(t,i){1&t&&(e.j41(0,"div",76),e.qSk(),e.j41(1,"svg",81),e.nrm(2,"path",82),e.k0s(),e.joV(),e.j41(3,"span",83),e.EFF(4,"Uploaded successfully"),e.k0s()())}function B(t,i){if(1&t&&(e.j41(0,"div",76),e.qSk(),e.j41(1,"svg",84),e.nrm(2,"path",85),e.k0s(),e.joV(),e.j41(3,"span",86),e.EFF(4),e.k0s()()),2&t){const n=e.XpG().$implicit;e.R7$(4),e.JRh(n.error)}}function Y(t,i){if(1&t){const n=e.RV6();e.j41(0,"button",87),e.bIt("click",function(){e.eBV(n);const o=e.XpG().index,r=e.XpG();return e.Njj(r.removeFile(o))}),e.qSk(),e.j41(1,"svg",88),e.nrm(2,"path",89),e.k0s()()}}function P(t,i){if(1&t&&(e.j41(0,"div",49)(1,"div",68),e.DNE(2,M,1,1,"img",69)(3,$,3,0,"div",90),e.j41(4,"div",70)(5,"p",71),e.EFF(6),e.k0s(),e.j41(7,"p",72),e.EFF(8),e.k0s(),e.DNE(9,N,6,0,"div",73)(10,S,5,0,"div",73)(11,B,5,1,"div",73),e.k0s(),e.DNE(12,Y,3,0,"button",74),e.k0s()()),2&t){const n=i.$implicit;e.R7$(2),e.Y8G("ngIf",n.preview),e.R7$(),e.Y8G("ngIf",!n.preview),e.R7$(3),e.JRh(n.file.name),e.R7$(2),e.SpI("",(n.file.size/1024/1024).toFixed(2)," MB"),e.R7$(),e.Y8G("ngIf",n.uploading),e.R7$(),e.Y8G("ngIf",n.uploaded),e.R7$(),e.Y8G("ngIf",n.error),e.R7$(),e.Y8G("ngIf",!n.uploading&&!n.uploaded)}}function V(t,i){if(1&t&&(e.j41(0,"div",94)(1,"div",95),e.EFF(2),e.k0s()()),2&t){const n=e.XpG();e.R7$(2),e.JRh(n.errorMessage)}}function L(t,i){if(1&t&&(e.j41(0,"div",96)(1,"div",97),e.EFF(2),e.k0s()()),2&t){const n=e.XpG();e.R7$(2),e.JRh(n.successMessage)}}function O(t,i){1&t&&(e.j41(0,"span"),e.EFF(1,"Create Announcement"),e.k0s())}function q(t,i){1&t&&(e.j41(0,"span",98),e.qSk(),e.j41(1,"svg",99),e.nrm(2,"circle",78)(3,"path",79),e.k0s(),e.EFF(4," Creating... "),e.k0s())}let U=(()=>{class t{constructor(n,a,o){this.fb=n,this.apiService=a,this.router=o,this.isLoading=!1,this.errorMessage="",this.successMessage="",this.today=(new Date).toISOString().split("T")[0],this.uploadedFiles=[],this.isAuthenticated=!1,this.announcementForm=this.fb.group({deceased_name:["",s.k0.required],deceased_birth_date:[""],deceased_death_date:[""],funeral_date:[""],funeral_location:[""],ceremony_type:["burial"],family_message:["",s.k0.required],goal_amount:[""],beneficiary_name:["",s.k0.required],beneficiary_bank_account:[""],beneficiary_mobile_money:[""],beneficiary_account_type:["bank",s.k0.required],announcement_start_date:[this.today,s.k0.required],announcement_end_date:["",s.k0.required]})}ngOnInit(){this.isAuthenticated=this.apiService.isLoggedIn(),this.isAuthenticated?this.announcementForm.get("announcement_start_date")?.valueChanges.subscribe(n=>{if(n){const a=new Date(n);a.setDate(a.getDate()+1),this.announcementForm.get("announcement_end_date")?.setValidators([s.k0.required,o=>new Date(o.value)>a?null:{minEndDate:!0}])}}):this.router.navigate(["/login"],{queryParams:{returnUrl:"/create-announcement"}})}onAccountTypeChange(){"bank"===this.announcementForm.get("beneficiary_account_type")?.value?(this.announcementForm.get("beneficiary_bank_account")?.setValidators([s.k0.required]),this.announcementForm.get("beneficiary_mobile_money")?.clearValidators()):(this.announcementForm.get("beneficiary_mobile_money")?.setValidators([s.k0.required]),this.announcementForm.get("beneficiary_bank_account")?.clearValidators()),this.announcementForm.get("beneficiary_bank_account")?.updateValueAndValidity(),this.announcementForm.get("beneficiary_mobile_money")?.updateValueAndValidity()}onSubmit(){var n=this;if(this.announcementForm.invalid)return void this.markFormGroupTouched(this.announcementForm);this.errorMessage="",this.successMessage="",this.isLoading=!0;const a=this.announcementForm.value,o={deceased_name:a.deceased_name,deceased_birth_date:a.deceased_birth_date||void 0,deceased_death_date:a.deceased_death_date||void 0,funeral_date:a.funeral_date||void 0,funeral_location:a.funeral_location||void 0,ceremony_type:a.ceremony_type||"burial",family_message:a.family_message,goal_amount:a.goal_amount?parseFloat(a.goal_amount):void 0,beneficiary_name:a.beneficiary_name,beneficiary_bank_account:"bank"===a.beneficiary_account_type?a.beneficiary_bank_account:void 0,beneficiary_mobile_money:"mobile_money"===a.beneficiary_account_type?a.beneficiary_mobile_money:void 0,beneficiary_account_type:a.beneficiary_account_type,announcement_start_date:a.announcement_start_date,announcement_end_date:a.announcement_end_date};var r;this.apiService.createAnnouncement(o).subscribe({next:(r=(0,g.A)(function*(l){if(n.isLoading=!1,l.success){const d=l.data.announcement_id;n.uploadedFiles.length>0?(n.successMessage="Creating announcement... Uploading files...",(yield n.uploadFiles(d))?n.successMessage="Announcement created successfully with files uploaded!":n.errorMessage="Announcement created but some files failed to upload. You can try uploading them later from the announcement detail page."):n.successMessage="Announcement created successfully!",setTimeout(()=>{n.router.navigate(["/announcements",d])},3e4)}else n.errorMessage=l.error||"Failed to create announcement"}),function(d){return r.apply(this,arguments)}),error:r=>{this.isLoading=!1,this.errorMessage=this.apiService.getErrorMessage(r)}})}cancel(){this.router.navigate(["/my-announcements"])}markFormGroupTouched(n){Object.keys(n.controls).forEach(a=>{n.get(a)?.markAsTouched()})}onFileSelected(n,a){const o=n.target;if(o.files&&o.files.length>0){const r=o.files[0];if(this.validateFile(r)){const l={file:r,purpose:a,uploading:!1,uploaded:!1};if(r.type.startsWith("image/")){const d=new FileReader;d.onload=c=>{l.preview=c.target?.result},d.readAsDataURL(r)}this.uploadedFiles.push(l)}}o.value=""}validateFile(n){return n.size>10485760?(this.errorMessage=`File "${n.name}" is too large. Maximum size is 10MB.`,!1):!!["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(n.type)||(this.errorMessage=`File "${n.name}" is not a supported format. Allowed: Images (JPEG, PNG, GIF, WebP) and Documents (PDF, DOC, DOCX).`,!1)}removeFile(n){this.uploadedFiles.splice(n,1)}getFilesByPurpose(n){return this.uploadedFiles.filter(a=>a.purpose===n)}uploadFiles(n){var a=this;return(0,g.A)(function*(){if(0===a.uploadedFiles.length)return!0;try{for(let o=0;o<a.uploadedFiles.length;o++){const r=a.uploadedFiles[o];r.uploading=!0;try{yield a.apiService.uploadFile(n,r.file,r.purpose).toPromise(),r.uploaded=!0,r.uploading=!1}catch(l){return r.error="Failed to upload file",r.uploading=!1,console.error("File upload error:",l),!1}}return!0}catch(o){return console.error("File upload error:",o),!1}})()}static{this.\u0275fac=function(a){return new(a||t)(e.rXU(s.ok),e.rXU(v.G),e.rXU(h.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-create-announcement"]],standalone:!0,features:[e.aNF],decls:131,vars:17,consts:[[1,"min-h-screen","bg-gray-50","py-12"],[1,"max-w-3xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"bg-white","shadow","rounded-lg"],[1,"px-4","py-5","sm:p-6"],[1,"text-2xl","font-bold","text-gray-900","mb-6"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"bg-gray-50","p-4","rounded-lg"],[1,"text-lg","font-medium","text-gray-900","mb-4"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2"],[1,"sm:col-span-2"],["for","deceased_name",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","deceased_name","formControlName","deceased_name","placeholder","Enter full name",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","deceased_birth_date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","deceased_birth_date","formControlName","deceased_birth_date",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],["for","deceased_death_date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","deceased_death_date","formControlName","deceased_death_date",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],["for","funeral_date",1,"block","text-sm","font-medium","text-gray-700"],["type","datetime-local","id","funeral_date","formControlName","funeral_date",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],["for","ceremony_type",1,"block","text-sm","font-medium","text-gray-700"],["id","ceremony_type","formControlName","ceremony_type",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out","bg-white"],["value","burial"],["value","cremation"],["value","memorial"],["value","other"],["for","funeral_location",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","funeral_location","formControlName","funeral_location","placeholder","Enter venue name and address",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],["for","family_message",1,"block","text-sm","font-medium","text-gray-700"],["id","family_message","formControlName","family_message","rows","4","placeholder","Share a message about your loved one...",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out","resize-none"],["for","goal_amount",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","goal_amount","formControlName","goal_amount","min","0","step","0.01","placeholder","0.00",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],[1,"mt-1","text-sm","text-gray-500"],["for","beneficiary_name",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","beneficiary_name","formControlName","beneficiary_name","placeholder","Enter beneficiary full name",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],["for","beneficiary_account_type",1,"block","text-sm","font-medium","text-gray-700"],["id","beneficiary_account_type","formControlName","beneficiary_account_type",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out","bg-white",3,"change"],["value","bank"],["value","mobile_money"],[4,"ngIf"],["for","announcement_start_date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","announcement_start_date","formControlName","announcement_start_date",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out",3,"min"],["for","announcement_end_date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","announcement_end_date","formControlName","announcement_end_date",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out",3,"min"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-6"],[1,"text-center"],["stroke","currentColor","fill","none","viewBox","0 0 48 48",1,"mx-auto","h-12","w-12","text-gray-400"],["d","M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"mt-4"],["for","deceased-photo",1,"cursor-pointer"],[1,"mt-2","block","text-sm","font-medium","text-gray-900"],[1,"mt-1","block","text-sm","text-gray-500"],["type","file","id","deceased-photo","accept","image/*",1,"sr-only",3,"change"],["class","mt-4",4,"ngFor","ngForOf"],["for","additional-files",1,"cursor-pointer"],["type","file","id","additional-files","multiple","","accept","image/*,.pdf,.doc,.docx",1,"sr-only",3,"change"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],["class","bg-green-50 border border-green-200 rounded-md p-4",4,"ngIf"],[1,"flex","justify-end","space-x-3"],["type","button",1,"py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["type","submit",1,"py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50",3,"disabled"],["class","flex items-center",4,"ngIf"],[1,"text-red-500","text-sm","mt-1"],["for","beneficiary_bank_account",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","beneficiary_bank_account","formControlName","beneficiary_bank_account","placeholder","Enter account number",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],["for","beneficiary_mobile_money",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","beneficiary_mobile_money","formControlName","beneficiary_mobile_money","placeholder","Enter mobile money number",1,"mt-1","block","w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition","duration-150","ease-in-out"],[1,"flex","items-center","p-3","bg-white","border","rounded-lg"],["class","h-16 w-16 object-cover rounded mr-3",3,"src",4,"ngIf"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],["class","flex items-center mt-1",4,"ngIf"],["type","button","class","ml-3 text-red-500 hover:text-red-700",3,"click",4,"ngIf"],[1,"h-16","w-16","object-cover","rounded","mr-3",3,"src"],[1,"flex","items-center","mt-1"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4","text-blue-500","mr-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-xs","text-blue-500"],["fill","currentColor","viewBox","0 0 20 20",1,"h-4","w-4","text-green-500","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-xs","text-green-500"],["fill","currentColor","viewBox","0 0 20 20",1,"h-4","w-4","text-red-500","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-xs","text-red-500"],["type","button",1,"ml-3","text-red-500","hover:text-red-700",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["class","h-16 w-16 bg-gray-100 rounded mr-3 flex items-center justify-center",4,"ngIf"],[1,"h-16","w-16","bg-gray-100","rounded","mr-3","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"h-8","w-8","text-gray-400"],["fill-rule","evenodd","d","M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z","clip-rule","evenodd"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"text-red-600","text-sm"],[1,"bg-green-50","border","border-green-200","rounded-md","p-4"],[1,"text-green-600","text-sm"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"]],template:function(a,o){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Create Funeral Announcement"),e.k0s(),e.j41(6,"form",5),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(7,"div",6)(8,"h2",7),e.EFF(9,"Deceased Information"),e.k0s(),e.j41(10,"div",8)(11,"div",9)(12,"label",10),e.EFF(13," Name of Deceased * "),e.k0s(),e.nrm(14,"input",11),e.DNE(15,F,2,0,"div",12),e.k0s(),e.j41(16,"div")(17,"label",13),e.EFF(18," Date of Birth "),e.k0s(),e.nrm(19,"input",14),e.k0s(),e.j41(20,"div")(21,"label",15),e.EFF(22," Date of Death "),e.k0s(),e.nrm(23,"input",16),e.k0s(),e.j41(24,"div")(25,"label",17),e.EFF(26," Funeral Date & Time "),e.k0s(),e.nrm(27,"input",18),e.k0s(),e.j41(28,"div")(29,"label",19),e.EFF(30," Ceremony Type "),e.k0s(),e.j41(31,"select",20)(32,"option",21),e.EFF(33,"Burial"),e.k0s(),e.j41(34,"option",22),e.EFF(35,"Cremation"),e.k0s(),e.j41(36,"option",23),e.EFF(37,"Memorial Service"),e.k0s(),e.j41(38,"option",24),e.EFF(39,"Other"),e.k0s()()(),e.j41(40,"div",9)(41,"label",25),e.EFF(42," Funeral Location "),e.k0s(),e.nrm(43,"input",26),e.k0s(),e.j41(44,"div",9)(45,"label",27),e.EFF(46," Family Message * "),e.k0s(),e.nrm(47,"textarea",28),e.DNE(48,k,2,0,"div",12),e.k0s(),e.j41(49,"div")(50,"label",29),e.EFF(51," Goal Amount (USD) "),e.k0s(),e.nrm(52,"input",30),e.j41(53,"p",31),e.EFF(54,"Optional - Set a donation goal"),e.k0s()()()(),e.j41(55,"div",6)(56,"h2",7),e.EFF(57,"Beneficiary Information"),e.k0s(),e.j41(58,"div",8)(59,"div",9)(60,"label",32),e.EFF(61," Beneficiary Name * "),e.k0s(),e.nrm(62,"input",33),e.DNE(63,x,2,0,"div",12),e.k0s(),e.j41(64,"div")(65,"label",34),e.EFF(66," Account Type * "),e.k0s(),e.j41(67,"select",35),e.bIt("change",function(){return o.onAccountTypeChange()}),e.j41(68,"option",36),e.EFF(69,"Bank Account"),e.k0s(),e.j41(70,"option",37),e.EFF(71,"Mobile Money"),e.k0s()()(),e.DNE(72,C,4,0,"div",38)(73,j,4,0,"div",38),e.k0s()(),e.j41(74,"div",6)(75,"h2",7),e.EFF(76,"Announcement Period"),e.k0s(),e.j41(77,"div",8)(78,"div")(79,"label",39),e.EFF(80," Start Date * "),e.k0s(),e.nrm(81,"input",40),e.DNE(82,E,2,0,"div",12),e.k0s(),e.j41(83,"div")(84,"label",41),e.EFF(85," End Date * "),e.k0s(),e.nrm(86,"input",42),e.j41(87,"p",31),e.EFF(88," Announcement will remain open for 5 days after the end date "),e.k0s(),e.DNE(89,w,2,0,"div",12),e.k0s()()(),e.j41(90,"div",6)(91,"h2",7),e.EFF(92,"Upload Photos & Documents"),e.k0s(),e.j41(93,"div",43)(94,"label",44),e.EFF(95," Deceased Photo/Flyer (Optional) "),e.k0s(),e.j41(96,"div",45)(97,"div",46),e.qSk(),e.j41(98,"svg",47),e.nrm(99,"path",48),e.k0s(),e.joV(),e.j41(100,"div",49)(101,"label",50)(102,"span",51),e.EFF(103," Click to upload deceased photo or flyer "),e.k0s(),e.j41(104,"span",52),e.EFF(105," PNG, JPG, GIF up to 10MB "),e.k0s()(),e.j41(106,"input",53),e.bIt("change",function(l){return o.onFileSelected(l,"deceased_photo")}),e.k0s()()()(),e.DNE(107,R,12,7,"div",54),e.k0s(),e.j41(108,"div")(109,"label",44),e.EFF(110," Additional Photos & Documents (Optional) "),e.k0s(),e.j41(111,"div",45)(112,"div",46),e.qSk(),e.j41(113,"svg",47),e.nrm(114,"path",48),e.k0s(),e.joV(),e.j41(115,"div",49)(116,"label",55)(117,"span",51),e.EFF(118," Click to upload additional photos or documents "),e.k0s(),e.j41(119,"span",52),e.EFF(120," Images, PDF, DOC, DOCX up to 10MB each "),e.k0s()(),e.j41(121,"input",56),e.bIt("change",function(l){return o.onFileSelected(l,"other")}),e.k0s()()()(),e.DNE(122,P,13,8,"div",54),e.k0s()(),e.DNE(123,V,3,1,"div",57)(124,L,3,1,"div",58),e.j41(125,"div",59)(126,"button",60),e.bIt("click",function(){return o.cancel()}),e.EFF(127," Cancel "),e.k0s(),e.j41(128,"button",61),e.DNE(129,O,2,0,"span",38)(130,q,5,0,"span",62),e.k0s()()()()()()()),2&a){let r,l,d,c,b,m,y,f;e.R7$(6),e.Y8G("formGroup",o.announcementForm),e.R7$(9),e.Y8G("ngIf",(null==(r=o.announcementForm.get("deceased_name"))?null:r.invalid)&&(null==(r=o.announcementForm.get("deceased_name"))?null:r.touched)),e.R7$(33),e.Y8G("ngIf",(null==(l=o.announcementForm.get("family_message"))?null:l.invalid)&&(null==(l=o.announcementForm.get("family_message"))?null:l.touched)),e.R7$(15),e.Y8G("ngIf",(null==(d=o.announcementForm.get("beneficiary_name"))?null:d.invalid)&&(null==(d=o.announcementForm.get("beneficiary_name"))?null:d.touched)),e.R7$(9),e.Y8G("ngIf","bank"===(null==(c=o.announcementForm.get("beneficiary_account_type"))?null:c.value)),e.R7$(),e.Y8G("ngIf","mobile_money"===(null==(b=o.announcementForm.get("beneficiary_account_type"))?null:b.value)),e.R7$(8),e.Y8G("min",o.today),e.R7$(),e.Y8G("ngIf",(null==(m=o.announcementForm.get("announcement_start_date"))?null:m.invalid)&&(null==(m=o.announcementForm.get("announcement_start_date"))?null:m.touched)),e.R7$(4),e.Y8G("min",(null==(y=o.announcementForm.get("announcement_start_date"))?null:y.value)||o.today),e.R7$(3),e.Y8G("ngIf",(null==(f=o.announcementForm.get("announcement_end_date"))?null:f.invalid)&&(null==(f=o.announcementForm.get("announcement_end_date"))?null:f.touched)),e.R7$(18),e.Y8G("ngForOf",o.getFilesByPurpose("deceased_photo")),e.R7$(15),e.Y8G("ngForOf",o.getFilesByPurpose("other")),e.R7$(),e.Y8G("ngIf",o.errorMessage),e.R7$(),e.Y8G("ngIf",o.successMessage),e.R7$(4),e.Y8G("disabled",o.announcementForm.invalid||o.isLoading),e.R7$(),e.Y8G("ngIf",!o.isLoading),e.R7$(),e.Y8G("ngIf",o.isLoading)}},dependencies:[_.MD,_.Sq,_.bT,s.YN,s.qT,s.xH,s.y7,s.me,s.Q0,s.wz,s.BC,s.cb,s.VZ,s.X1,s.j4,s.JD],encapsulation:2})}}return t})()}}]);